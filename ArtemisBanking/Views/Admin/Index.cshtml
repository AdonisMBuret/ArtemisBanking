@model ArtemisBanking.Web.ViewModels.DashboardAdminViewModel

@{
    ViewData["Title"] = "Dashboard Administrador";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- ==================== DASHBOARD DEL ADMINISTRADOR ==================== -->
<!-- Encabezado del Dashboard -->
<div class="row mb-4">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h2 class="text-primary-artemis mb-1">
                    <i class="fas fa-chart-line me-2"></i>
                    Dashboard Administrativo
                </h2>
                <p class="text-muted mb-0">
                    <i class="fas fa-calendar-alt me-2"></i>
                    @DateTime.Now.ToString("dddd, dd 'de' MMMM 'de' yyyy", new System.Globalization.CultureInfo("es-ES"))
                </p>
            </div>
            <div>
                <span class="badge badge-success-artemis">
                    <i class="fas fa-circle me-1" style="font-size: 0.6rem;"></i>
                    Sistema Activo
                </span>
            </div>
        </div>
        <hr style="border-color: var(--color-gray);">
    </div>
</div>

<!-- ==================== MENÚ DE NAVEGACIÓN RÁPIDA ==================== -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card-artemis">
            <div class="card-artemis-body p-3">
                <div class="row text-center">
                    <!-- Gestión de Usuarios -->
                    <div class="col-6 col-md-3 mb-2 mb-md-0">
                        <a asp-action="Usuarios" class="text-decoration-none">
                            <div class="d-flex flex-column align-items-center">
                                <i class="fas fa-users fa-2x mb-2 text-primary-artemis"></i>
                                <span class="text-dark">Usuarios</span>
                            </div>
                        </a>
                    </div>

                    <!-- Gestión de Préstamos -->
                    <div class="col-6 col-md-3 mb-2 mb-md-0">
                        <a asp-action="Prestamos" class="text-decoration-none">
                            <div class="d-flex flex-column align-items-center">
                                <i class="fas fa-hand-holding-usd fa-2x mb-2 text-primary-artemis"></i>
                                <span class="text-dark">Préstamos</span>
                            </div>
                        </a>
                    </div>

                    <!-- Gestión de Tarjetas -->
                    <div class="col-6 col-md-3">
                        <a asp-action="Tarjetas" class="text-decoration-none">
                            <div class="d-flex flex-column align-items-center">
                                <i class="fas fa-credit-card fa-2x mb-2 text-primary-artemis"></i>
                                <span class="text-dark">Tarjetas</span>
                            </div>
                        </a>
                    </div>

                    <!-- Gestión de Cuentas -->
                    <div class="col-6 col-md-3">
                        <a asp-action="Cuentas" class="text-decoration-none">
                            <div class="d-flex flex-column align-items-center">
                                <i class="fas fa-piggy-bank fa-2x mb-2 text-primary-artemis"></i>
                                <span class="text-dark">Cuentas</span>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== INDICADORES DE TRANSACCIONES ==================== -->
<div class="row mb-4">
    <div class="col-12 mb-3">
        <h4 class="text-secondary-artemis">
            <i class="fas fa-exchange-alt me-2"></i>
            Transacciones y Pagos
        </h4>
    </div>

    <!-- Total de Transacciones -->
    <div class="col-md-6 col-lg-3 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon">
                <i class="fas fa-receipt"></i>
            </div>
            <div class="dashboard-card-value">
                @Model.TotalTransacciones.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Total Transacciones
            </div>
        </div>
    </div>

    <!-- Transacciones del Día -->
    <div class="col-md-6 col-lg-3 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #5C7C5D 0%, #6B8E23 100%);">
                <i class="fas fa-calendar-day"></i>
            </div>
            <div class="dashboard-card-value" style="color: #5C7C5D;">
                @Model.TransaccionesDelDia.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Transacciones Hoy
            </div>
        </div>
    </div>

    <!-- Total de Pagos -->
    <div class="col-md-6 col-lg-3 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #A0826D 0%, #8B5A3C 100%);">
                <i class="fas fa-money-bill-wave"></i>
            </div>
            <div class="dashboard-card-value" style="color: #A0826D;">
                @Model.TotalPagos.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Total Pagos
            </div>
        </div>
    </div>

    <!-- Pagos del Día -->
    <div class="col-md-6 col-lg-3 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #CD853F 0%, #8B4513 100%);">
                <i class="fas fa-coins"></i>
            </div>
            <div class="dashboard-card-value" style="color: #CD853F;">
                @Model.PagosDelDia.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Pagos Hoy
            </div>
        </div>
    </div>
</div>

<!-- ==================== INDICADORES DE CLIENTES ==================== -->
<div class="row mb-4">
    <div class="col-12 mb-3">
        <h4 class="text-secondary-artemis">
            <i class="fas fa-user-friends me-2"></i>
            Estado de Clientes
        </h4>
    </div>

    <!-- Clientes Activos -->
    <div class="col-md-6 mb-3">
        <div class="dashboard-card">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <div class="dashboard-card-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="dashboard-card-value">
                        @Model.ClientesActivos.ToString("N0")
                    </div>
                    <div class="dashboard-card-label">
                        Clientes Activos
                    </div>
                </div>
                <div>
                    <i class="fas fa-check-circle fa-3x" style="color: var(--color-success); opacity: 0.2;"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Clientes Inactivos -->
    <div class="col-md-6 mb-3">
        <div class="dashboard-card">
            <div class="d-flex justify-content-between align-items-center">
                <div>
                    <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);">
                        <i class="fas fa-user-times"></i>
                    </div>
                    <div class="dashboard-card-value" style="color: #8B4513;">
                        @Model.ClientesInactivos.ToString("N0")
                    </div>
                    <div class="dashboard-card-label">
                        Clientes Inactivos
                    </div>
                </div>
                <div>
                    <i class="fas fa-times-circle fa-3x" style="color: var(--color-danger); opacity: 0.2;"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== INDICADORES DE PRODUCTOS FINANCIEROS ==================== -->
<div class="row mb-4">
    <div class="col-12 mb-3">
        <h4 class="text-secondary-artemis">
            <i class="fas fa-briefcase me-2"></i>
            Productos Financieros
        </h4>
    </div>

    <!-- Total de Productos -->
    <div class="col-md-6 col-lg-4 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #6B8E23 0%, #556B2F 100%);">
                <i class="fas fa-folder-open"></i>
            </div>
            <div class="dashboard-card-value" style="color: #6B8E23;">
                @Model.TotalProductosFinancieros.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Total Productos
            </div>
            <small class="text-muted mt-2 d-block">
                <i class="fas fa-info-circle me-1"></i>
                Préstamos + Tarjetas + Cuentas
            </small>
        </div>
    </div>

    <!-- Préstamos Vigentes -->
    <div class="col-md-6 col-lg-4 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon">
                <i class="fas fa-file-invoice-dollar"></i>
            </div>
            <div class="dashboard-card-value">
                @Model.PrestamosVigentes.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Préstamos Vigentes
            </div>
            <a asp-action="Prestamos" class="btn btn-sm btn-outline-artemis mt-2">
                <i class="fas fa-eye me-1"></i>
                Ver Detalles
            </a>
        </div>
    </div>

    <!-- Tarjetas Activas -->
    <div class="col-md-6 col-lg-4 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #A0826D 0%, #8B7355 100%);">
                <i class="fas fa-credit-card"></i>
            </div>
            <div class="dashboard-card-value" style="color: #A0826D;">
                @Model.TarjetasActivas.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Tarjetas Activas
            </div>
            <a asp-action="Tarjetas" class="btn btn-sm btn-outline-artemis mt-2">
                <i class="fas fa-eye me-1"></i>
                Ver Detalles
            </a>
        </div>
    </div>

    <!-- Cuentas de Ahorro -->
    <div class="col-md-6 col-lg-4 mb-3">
        <div class="dashboard-card">
            <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #CD853F 0%, #B8860B 100%);">
                <i class="fas fa-wallet"></i>
            </div>
            <div class="dashboard-card-value" style="color: #CD853F;">
                @Model.CuentasAhorro.ToString("N0")
            </div>
            <div class="dashboard-card-label">
                Cuentas de Ahorro
            </div>
            <a asp-action="Cuentas" class="btn btn-sm btn-outline-artemis mt-2">
                <i class="fas fa-eye me-1"></i>
                Ver Detalles
            </a>
        </div>
    </div>

    <!-- Deuda Promedio por Cliente -->
    <div class="col-md-6 col-lg-8 mb-3">
        <div class="dashboard-card">
            <div class="row align-items-center">
                <div class="col-md-4 text-center mb-3 mb-md-0">
                    <div class="dashboard-card-icon mx-auto" style="background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);">
                        <i class="fas fa-chart-pie"></i>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="dashboard-card-label mb-2">
                        Deuda Promedio por Cliente
                    </div>
                    <div class="dashboard-card-value" style="color: #8B4513;">
                        RD$ @Model.DeudaPromedioCliente.ToString("N2")
                    </div>
                    <small class="text-muted">
                        <i class="fas fa-info-circle me-1"></i>
                        Este valor se usa para evaluar clientes de alto riesgo
                    </small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== ACCIONES RÁPIDAS ==================== -->
<div class="row">
    <div class="col-12 mb-3">
        <h4 class="text-secondary-artemis">
            <i class="fas fa-bolt me-2"></i>
            Acciones Rápidas
        </h4>
    </div>

    <!-- Crear Usuario -->
    <div class="col-md-6 col-lg-3 mb-3">
        <a asp-action="CrearUsuario" class="text-decoration-none">
            <div class="card-artemis text-center" style="cursor: pointer;">
                <div class="card-artemis-body p-4">
                    <i class="fas fa-user-plus fa-3x mb-3 text-primary-artemis"></i>
                    <h5 class="text-dark">Crear Usuario</h5>
                    <p class="text-muted mb-0">Registrar nuevo usuario en el sistema</p>
                </div>
            </div>
        </a>
    </div>

    <!-- Asignar Préstamo -->
    <div class="col-md-6 col-lg-3 mb-3">
        <a asp-action="SeleccionarClientePrestamo" class="text-decoration-none">
            <div class="card-artemis text-center" style="cursor: pointer;">
                <div class="card-artemis-body p-4">
                    <i class="fas fa-hand-holding-usd fa-3x mb-3 text-primary-artemis"></i>
                    <h5 class="text-dark">Asignar Préstamo</h5>
                    <p class="text-muted mb-0">Aprobar nuevo préstamo a cliente</p>
                </div>
            </div>
        </a>
    </div>

    <!-- Asignar Tarjeta -->
    <div class="col-md-6 col-lg-3 mb-3">
        <a asp-action="SeleccionarClienteTarjeta" class="text-decoration-none">
            <div class="card-artemis text-center" style="cursor: pointer;">
                <div class="card-artemis-body p-4">
                    <i class="fas fa-credit-card fa-3x mb-3 text-primary-artemis"></i>
                    <h5 class="text-dark">Asignar Tarjeta</h5>
                    <p class="text-muted mb-0">Emitir tarjeta de crédito</p>
                </div>
            </div>
        </a>
    </div>

    <!-- Asignar Cuenta -->
    <div class="col-md-6 col-lg-3 mb-3">
        <a asp-action="SeleccionarClienteCuenta" class="text-decoration-none">
            <div class="card-artemis text-center" style="cursor: pointer;">
                <div class="card-artemis-body p-4">
                    <i class="fas fa-piggy-bank fa-3x mb-3 text-primary-artemis"></i>
                    <h5 class="text-dark">Asignar Cuenta</h5>
                    <p class="text-muted mb-0">Crear cuenta de ahorro secundaria</p>
                </div>
            </div>
        </a>
    </div>
</div>

<!-- ==================== SCRIPTS ADICIONALES ==================== -->
@section Scripts {
    <script>
        // Animación simple al cargar los números (opcional)
        document.addEventListener('DOMContentLoaded', function() {
            // Agregar clase de animación a las cards
            const cards = document.querySelectorAll('.dashboard-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s ease';

                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 50);
            });
        });
    </script>
}